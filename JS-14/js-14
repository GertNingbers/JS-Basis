<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="js-14.css?1">
    <title>JS-Arrays</title>
</head>

<body>
    <form>
        <fieldset>
            <div id="divtotal"></div>
        </fieldset>
        <fieldset>
            <div id="divtoevoeg">
                <p>Auto: <input type="text" id="auto" placeholder="auto-naam" value="" required></p>
                <p>Prijs: €<input type="number" id="prijs" placeholder="auto-prijs" value="" required></p>
                <button type="button" onclick="toevoegen()">voegtoe</button>
            </div>
        </fieldset>
        <fieldset>
            <div id="output"></div>
        </fieldset>
    </form>

    <script>
        const autos = [];
        const prijsen = [];

        function toevoegen() {
            let auto = document.getElementById("auto").value;
            let prijs = document.getElementById("prijs").value;

            //pushed wat je toevoegd in de array.
            autos.push(auto);
            prijsen.push(prijs);

            //update de div met totaal prijs.
            update();
        }

        //for het updaten van de div met totaal prijs en toevoegen delete button en auto en prijs.
        function update() {
            let output = "";
            for (let i = 0; i < autos.length; i++) {
                output += "De " + autos[i] + " is " + prijsen[i] + " <button type='button' onclick='verwijder(" + i + ")'>delete</button><br>";
            }
            document.getElementById("output").innerHTML = output;

            //de som van de totaal prijs.
            let som = 0;
            for (let j = 0; j < prijsen.length; j++) {
                //som=0 +=zorgt ervoor dat prijsen erbij opgetelt wordt.
                som += parseFloat(prijsen[j]);
            }

            // Toont de totale prijs omdat length vanaf 1 begint te tellen.
            if (autos.length > 0) {
                document.getElementById('divtotal').innerHTML = "De totale prijs van de " + autos.length + " auto\'s is €" + som.toFixed(2);
            } else {
                document.getElementById('divtotal').innerHTML = "";
            }
        }

        //delete knop krijgt hier zijn functie.
        function verwijder(x) {
            autos.splice(x, 1);
            prijsen.splice(x, 1);

            //update de div met totaal prijs wanner ik delete knop druk.
            update();
        }
    </script>
</body>

</html>