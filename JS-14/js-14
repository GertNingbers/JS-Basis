<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="js-14.css?1">
    <title>JS-Arrays</title>
</head>

<body>
    <form>
        <fieldset>
            <div id="output"></div>
        </fieldset>
        <fieldset>
            <div id="divtoevoeg">
                <p>Auto: <input type="text" id="auto" placeholder="auto-naam" value="" required></p>
                <p>Prijs: €<input type="number" id="prijs" placeholder="auto-prijs" value="" required></p>
                <button type="button" onclick="toevoegen()">voegtoe</button>
            </div>
        </fieldset>
        <fieldset>
            <div id="divtotal"></div>
        </fieldset>
    </form>

    <script>
        var autos = [];
        var prijsen = [];

        function toevoegen() {
            var auto = document.getElementById("auto").value;
            var prijs = document.getElementById("prijs").value;

            //pushed wat je toevoegd in de array.
            autos.push(auto);
            prijsen.push(prijs);
             
            //update de div met totaal prijs.
            updateOutput();
        }
        
        //for het updaten van de div met totaal prijs.
        function updateOutput() {
            var output = "";
            for (let i = 0; i < autos.length; i++) {
                output += "De " + autos[i] + " is " + prijsen[i] + " <button type='button' onclick='verwijder(" + i + ")'>delete</button><br>";
            }
            document.getElementById("output").innerHTML = output;

            //de som van de totaal prijs.
            var som = 0;
            for (var j = 0; j < prijsen.length; j++) {
                som += parseFloat(prijsen[j]);
            }

            // Toont de totale prijs.
            if (autos.length > 0) {
                document.getElementById('divtotal').innerHTML = "De totale prijs van de " + autos.length + " auto\'s is €" + som.toFixed(2);
            }
        }
         
        //delete knop krijgt hier zijn functie.
        function verwijder(x) {
            autos.splice(x, 1); 
            prijsen.splice(x, 1);  x

            //update de div met totaal prijs.
            updateOutput(); 

            if (autos.length === 0) {
                document.getElementById('divtotal').innerHTML = "";
            }
        }
    </script>
</body>

</html>